---
layout: default
---
<header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
  </header>
<div class="search-bar">
<label for="searchfield">Search</label>
<form id="searchform" onsubmit="return false">
<input placeholder="Search lectures" type="text" id="searchfield" name="search" value size="30" maxlength="128">
<input type="submit" class="invisible">
		</form>
  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>
  <label for="edit-start">Time Period</label>
  <select id="year-select" onchange="timeFilterEvents()">
  <option value="*">---</option>
  <option value="upcoming" selected>Upcoming</option>
  {% assign currentyear = 0 %}
  {% assign lecturelist = site.lectures | sort: 'date' %}
  {% for lecture in lecturelist %}
  {% assign lectureyear = lecture.date | date: "%Y" %}
  {% if currentyear!=lectureyear %}
  {% assign currentyear = lectureyear %}
  <option value="{{ currentyear }}">{{ currentyear }}</option>
  {% endif %}
{% endfor %}
  </select>
  <p class="searchcount"></p>
</div>
<br>
<div id="upcoming-events">
{% for lecture in site.lectures %}
 {% assign currentdateunix = 'now' | date: "%s" %}
  {% assign postdateunix = lecture.date | date: "%s" %}
  {% assign postdate = lecture.date | date: "%a<br><div class='centre-date'>%b %d</div>%Y" %}
    {% if postdateunix >= currentdateunix %}
		<div class="circle-date">{{ postdate }}</div>
		<div class="event-content">
	      <h2><a href="{{ lecture.url }}">{{ lecture.title }}</a></h2>
	  <h3>Speaker: {{ lecture.speaker }}</h3>
	  <p>{{ lecture.content | strip_html | truncatewords: 20 }}</p>
	  </div>
	  <hr>
    {% endif %}
{% endfor %}
</div>

<div id="filtered-events" style="display:none">
</div>
   
<script>
window.store = [
	{% for lecture in site.lectures %} {
		"title": {{lecture.title | jsonify}},
		"speaker": {{lecture.speaker | jsonify}},
		"date": {{ lecture.date | date: '%b %d' | jsonify }},
		"dayofweek": {{ lecture.date | date: '%a' | jsonify }},
		"year": {{ lecture.date | date: '%Y' | jsonify }},
		"excerpt": {{ lecture.content | strip_html | truncatewords: 20 | jsonify }},
		"url": "{{ lecture.url }}"
	}
	{% unless forloop.last %}, {% endunless %}
	{% endfor %}
]
</script>
<script type="text/javascript" src="/assets/search-lectures.js"></script>